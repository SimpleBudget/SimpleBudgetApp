
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:include="partials :: head('Sign Up!')"/>
    <link rel="stylesheet" th:href="@{/css/sign-up.css}" />

</head>
<body>
<nav th:replace="partials :: navbar"/>
<div class="card" id="main-card">
<h1>Create an account</h1>
<form th:action="@{/sign-up}" method="POST" th:object="${user}">
    <div class="form-row">
        <div class="form-group col-sm-6">
    <label for="username">Username</label>
        </div>
        <div class="form-group col-sm-6">
        <input class="form-control" pattern=".*\S+.*" title="username cannot be blank" id="username" name="username" th:field="*{username}" th:required="required"/>
    </div>
    </div>
    <div class="form-row">
        <div class="form-group col-sm-6">
    <label for="email">Email</label>
        </div>
        <div class="form-group col-sm-6">
            <input class="form-control" pattern=".*\S+.*" title="username cannot be blank" id="email" type="email" name="email" th:field="*{email}" th:required="required" />
    </div>
       </div>
    <div class="form-row">
        <div class="form-group col-sm-6">
    <label for="password">Password</label>
        </div>
        <div class="form-group col-sm-6">
            <input class="form-control" id="password" type="password" th:field="*{password}" th:required="required"/>
    </div>
    </div>
    <div class="form-row">
        <div class="form-group col-sm-6">
        <label for="confirmpassword">Confirm Password</label>
        </div>
        <div class="form-group col-sm-6">
        <input class="form-control" id="confirmpassword" name="confirmpassword" type="password" th:required="required" />
    </div>
    </div>
    <div class="form-row">
        <div class="form-group col-sm-6">
            <label for="phonenumber">Phone Number</label>
        </div>
        <div class="form-group col-sm-6">
        <input class="form-control" id="phonenumber" type="tel" placeholder="Enter phone number to recieve notifications." th:field="*{phonenumber}" />
    </div>
    </div>

    <input class="btn" value="Sign up" type="submit" />
</form>
<div th:if="${userExists  &amp;&amp; !emailExists}" id="usernameError" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Register Error</h4>
            </div>
            <div class="modal-body">
                <p>Username is already taken! please try again.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
<div th:if="${emailExists &amp;&amp; !userExists}" id="emailError" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Register Error</h4>
            </div>
            <div class="modal-body">
                <p>Email is already taken! please try again.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>

    </div>
</div>
<div th:if="${emailExists &amp;&amp; userExists}" id="Both" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Register Error</h4>
            </div>
            <div class="modal-body">
                <p>it looks like this user already is registered, do you want to try logging in?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" id="yes">Yes</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">No</button>
            </div>
        </div>
    </div>
</div>
    <div th:if="${!passwordsMatch}" id="passwordError" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Register Error</h4>
                </div>
                <div class="modal-body">
                    <p>Both password fields must match</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

</div>
<footer th:replace="footer2 :: footer"/>
<script type="text/javascript" th:src="@{/js/Validation.js}"></script>
</body>
</html>